<!-- change to TicketSearchViewModel -->
@model IList<Mot>

<partial name="_Breadcrumbs" model=@(new [] { ("/", "Home"), ("/mot", "Mot"), ("","Index") })>
<h3>MOT List</h3>

<!-- note use of flex box here to ensure the button and search form are aligned on a row with space between -->
<div class="my-4 d-flex flex-row justify-content-between align-items-center">  
   <a asp-action="Create" class="btn btn-primary btn-sm">Create MOT</a>   
   <!-- TBC -- add partial to search ticket issues -->
</div>

<table class="table">
    <thead>
      <tr>
         <th>Id</th>
         <th>Ticket Issue</th>
         <th>Created</th>  
         <th>Active</th>       
         <th>Actions</th> 
      </tr>
    </thead>
    <tbody>
       <!--TBC - update to use Tickets property in the TicketSearchViewModel -->
      @foreach(var t in Model) {
          <tr>
              <td>@t.DateOfMOT.ToShortDateString()</td>
              <td>@t.TesterName</td>
               <td>@t.TestStatus</td>
               <td>@t.TestReport.Substring(0, t.TestReport.Length < 20 ? t.TestReport.Length : 20)</td>
               <td>@t.Mileage</td> 
              
              <td>
              <!-- TBC - Add anchor tag to navigate to Mot Details action -->
               <a asp-action="Details" asp-route-id="@t.Id">
                  <i class="bi bi-ticket-detailed"></i> Details
               </a> 
               <!-- this replaces the close form that was here originally -->
                                                               
            </td>
         </tr>
      }
    </tbody>
</table>
